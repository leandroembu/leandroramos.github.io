<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Desabilitando serviços no Void Linux</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Desabilitando serviços no Void Linux</h1>
</header>
<section data-field="subtitle" class="p-summary">
Quando habilitamos um serviço no Void Linux, ele passa a iniciar junto com o sistema. Mas existem alguns serviços que você não gostaria de…
</section>
<section data-field="body" class="e-content">
<section name="4cc6" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="54cc" id="54cc" class="graf graf--h3 graf--leading graf--title">Desabilitando serviços no Void Linux</h3><figure name="e56c" id="e56c" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 577px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 82.39999999999999%;"></div><img class="graf-image" data-image-id="0*D8dq7Elbq5uYq3WM.png" data-width="1200" data-height="989" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*D8dq7Elbq5uYq3WM.png"></div><figcaption class="imageCaption">Logo do Void Linux</figcaption></figure><p name="8d6c" id="8d6c" class="graf graf--p graf-after--figure">Quando habilitamos um serviço no Void Linux, ele passa a iniciar junto com o sistema. Mas existem alguns serviços que você não gostaria de ter habilitados em toda inicialização. Vou falar um pouco sobre isso aqui.</p><h4 name="fce2" id="fce2" class="graf graf--h4 graf-after--p">Habilitando um serviço</h4><p name="4993" id="4993" class="graf graf--p graf-after--h4">Para exemplificar a habilitação de um serviço eu vou usar o Apache. Após a instalação do pacote apache, podemos habilitá-lo criando um link simbólico no diretório /var/services, apontando para o serviço que fica em /etc/sv.</p><pre name="135a" id="135a" class="graf graf--pre graf-after--p">sudo ln -s /etc/sv/apache /var/service/apache</pre><p name="58d9" id="58d9" class="graf graf--p graf-after--pre">Com o comando acima, o serviço será iniciado imediatamente, e também toda vez que você iniciar a máquina.</p><p name="8578" id="8578" class="graf graf--p graf-after--p">No diretório /etc/sv temos os serviços disponíveis no sistema, mas não necessariamente habilitados.</p><figure name="a1a5" id="a1a5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 656px; max-height: 221px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 33.7%;"></div><img class="graf-image" data-image-id="1*tqS7sjcvLL1UuIXMGr3xwA.png" data-width="656" data-height="221" src="https://cdn-images-1.medium.com/max/800/1*tqS7sjcvLL1UuIXMGr3xwA.png"></div><figcaption class="imageCaption">Serviços disponíveis, mas não habilitados</figcaption></figure><p name="e0ee" id="e0ee" class="graf graf--p graf-after--figure">No diretório /var/service temos os serviços habilitados, ou que vão iniciar junto com o sistema.</p><figure name="4192" id="4192" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 661px; max-height: 131px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19.8%;"></div><img class="graf-image" data-image-id="1*TjX8cBtk9pjCP2LC7uRv5Q.png" data-width="661" data-height="131" src="https://cdn-images-1.medium.com/max/800/1*TjX8cBtk9pjCP2LC7uRv5Q.png"></div><figcaption class="imageCaption">Serviços habilitados</figcaption></figure><h4 name="5b74" id="5b74" class="graf graf--h4 graf-after--figure">Desabilitando um serviço</h4><p name="31b1" id="31b1" class="graf graf--p graf-after--h4">Não existe apenas uma forma de desabilitar um serviço, e você deve ver a forma que atende melhor às suas necessidades.</p><h4 name="0218" id="0218" class="graf graf--h4 graf-after--p">Iniciando um serviço sem deixá-lo ativo</h4><p name="0cbd" id="0cbd" class="graf graf--p graf-after--h4">Para fazer com que o serviço apache inicie junto com o sistema, mas sem estar ativo (down), você pode criar um arquivo vazio, com o nome <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">down</em></strong>, dento do diretório /etc/sv/apache/</p><pre name="6388" id="6388" class="graf graf--pre graf-after--p">sudo touch /etc/sv/apache/down</pre><figure name="8df5" id="8df5" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 651px; max-height: 194px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 29.799999999999997%;"></div><img class="graf-image" data-image-id="1*pC6YzJbz81hqFXP3Oe8rhA.png" data-width="651" data-height="194" src="https://cdn-images-1.medium.com/max/800/1*pC6YzJbz81hqFXP3Oe8rhA.png"></div><figcaption class="imageCaption">Criando o arquivo down em /etc/sv/apache/</figcaption></figure><p name="15a4" id="15a4" class="graf graf--p graf-after--figure">Ao ver o status do serviço, você vai reparar que ele tem um “normally down” no fim da linha do status. Isso indica que o serviço vai iniciar no estado <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">down</em></strong>, ou seja, não estará rodando de fato. O serviço vai iniciar com o sistema, mas inativo.</p><pre name="712f" id="712f" class="graf graf--pre graf-after--p">sudo sv status apache</pre><figure name="7c44" id="7c44" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 598px; max-height: 143px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.9%;"></div><img class="graf-image" data-image-id="1*fog-QHzNewFZbtzyG7gyKg.png" data-width="598" data-height="143" src="https://cdn-images-1.medium.com/max/800/1*fog-QHzNewFZbtzyG7gyKg.png"></div><figcaption class="imageCaption">Serviço rodando, mas indicando que normalmente inicia inativo</figcaption></figure><p name="b356" id="b356" class="graf graf--p graf-after--figure">Ao reiniciar o sistema, o serviço estará inativo, e você poderá iniciá-lo com o comando abaixo:</p><pre name="b4d3" id="b4d3" class="graf graf--pre graf-after--p">sudo sv start apache</pre><h4 name="a40f" id="a40f" class="graf graf--h4 graf-after--pre">Desabilitando o serviço de forma definitiva</h4><p name="18dc" id="18dc" class="graf graf--p graf-after--h4">Se você quiser simplesmente nunca mais usar o serviço, pode apagar o link simbólico de /var/service (e provavelmente você vai querer, também, desinstalar o pacote).</p><pre name="58d2" id="58d2" class="graf graf--pre graf-after--p">sudo rm /var/service/apache</pre><figure name="e31a" id="e31a" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 612px; max-height: 149px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 24.3%;"></div><img class="graf-image" data-image-id="1*ymarzQQe8Cz-nnE6F1Q0rQ.png" data-width="612" data-height="149" src="https://cdn-images-1.medium.com/max/800/1*ymarzQQe8Cz-nnE6F1Q0rQ.png"></div><figcaption class="imageCaption">Removendo, definitivamente, o serviço</figcaption></figure><h4 name="ef29" id="ef29" class="graf graf--h4 graf-after--figure">Removendo o pacote</h4><p name="d7fb" id="d7fb" class="graf graf--p graf-after--h4">Se você removeu o serviço e não quer mais ter o pacote no seu sistema, basta removê-lo.</p><pre name="7d91" id="7d91" class="graf graf--pre graf-after--p">sudo xbps-remove apache</pre><p name="3680" id="3680" class="graf graf--p graf-after--pre">Aproveite para remover os pacotes órfãos também, e também os pacotes obsoletos no cache do sistema</p><pre name="6137" id="6137" class="graf graf--pre graf-after--p">sudo xbps-remove -oO #o para os órfãos e O para os obsoletos</pre><p name="4e56" id="4e56" class="graf graf--p graf-after--pre graf--trailing">E é isso. Muito obrigado pela leitura. Até a próxima, pessoal!</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@leandroembu" class="p-author h-card">Leandro Ramos</a> on <a href="https://medium.com/p/745ca7db87ee"><time class="dt-published" datetime="2019-11-10T04:20:23.097Z">November 10, 2019</time></a>.</p><p><a href="https://medium.com/@leandroembu/desabilitando-servi%C3%A7os-no-void-linux-745ca7db87ee" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 12, 2019.</p></footer></article></body></html>